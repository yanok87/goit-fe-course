{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/SearchForm/SearchForm.js","components/Modal/Modal.js","services/api.js","App.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","PhotoCard","webformatURL","largeImageURL","openModal","likes","views","downloads","comments","className","design","gallery_item","photo_card","src","alt","stats","stats_item","onClick","type","fullscreen_button","style","pointerEvents","Gallery","imagesArr","onClickBtn","gallery","map","key","shortid","generate","button","SearchForm","onSubmitForm","onChangeInput","inputSearch","search_form","onSubmit","value","onChange","autoComplete","placeholder","Modal","largeURL","closeModal","overlay","modal","axios","defaults","baseURL","fetchPhotos","pageNumber","process","settings","perPage","page","search","get","incrementPageNumber","App","state","isModalOpen","closeOnEscape","e","keyCode","setState","fetchingImg","API","toLowerCase","then","response","prevState","data","hits","window","scrollTo","top","document","body","scrollHeight","behavior","catch","console","log","fetchingNewImg","changePageNumber","handleChangeInput","target","preventDefault","openModalWindow","url","closeModalWindow","tagName","this","addEventListener","removeEventListener","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a49c8c47.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__189E0\",\"stats\":\"PhotoCard_stats__3XRLi\",\"stats_item\":\"PhotoCard_stats_item__1clgI\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__1dSBe\",\"gallery_item\":\"PhotoCard_gallery_item__240R2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__3vPzB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3RNHd\",\"button\":\"Gallery_button__3HT1a\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport design from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  largeImageURL,\n  openModal,\n  likes,\n  views,\n  downloads,\n  comments,\n}) => {\n  return (\n    <li className={design.gallery_item}>\n      <div className={design.photo_card}>\n        <img src={webformatURL} alt=\"imghere\" />\n        <div className={design.stats}>\n          <p className={design.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={design.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={design.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={design.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n        <button\n          onClick={() => openModal(largeImageURL)}\n          type=\"button\"\n          className={design.fullscreen_button}\n        >\n          <i className=\"material-icons\" style={{ pointerEvents: 'none' }}>\n            zoom_out_map\n          </i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\n// import axios from 'axios';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport design from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n// import SearchForm from '../SearchForm/SearchForm';\n// import Loader from '../Loader';\n// import Modal from '../Modal/Modal';\n\nconst Gallery = ({ imagesArr, onClickBtn, openModal }) => {\n  return (\n    <>\n      <ul className={design.gallery}>\n        {imagesArr.map(\n          ({\n            webformatURL,\n            largeImageURL,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) => (\n            <PhotoCard\n              key={shortid.generate()}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              likes={likes}\n              views={views}\n              comments={comments}\n              downloads={downloads}\n              openModal={openModal}\n            />\n          ),\n        )}\n      </ul>\n      <button type=\"button\" onClick={onClickBtn} className={design.button}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nGallery.propTypes = {\n  imagesArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onClickBtn: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n\n/*\n\n<ul className={design.gallery}>\n      {imagesArr.map(\n        ({\n          id,\n          webformatURL,\n          largeImageURL,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => (\n          <PhotoCard\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            likes={likes}\n            views={views}\n            comments={comments}\n            downloads={downloads}\n          />\n        ),\n      )}\n    </ul>\n*/\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport design from './SearchForm.module.css';\n\nconst SearchForm = ({ onSubmitForm, onChangeInput, inputSearch }) => {\n  return (\n    <form className={design.search_form} onSubmit={onSubmitForm}>\n      <input\n        type=\"text\"\n        value={inputSearch}\n        onChange={onChangeInput}\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmitForm: PropTypes.func.isRequired,\n  onChangeInput: PropTypes.func.isRequired,\n  inputSearch: PropTypes.string.isRequired,\n};\n\nexport default SearchForm;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport design from './Modal.module.css';\n\nconst Modal = ({ largeURL, closeModal }) => {\n  return (\n    <div className={design.overlay} onClick={closeModal}>\n      <div className={design.modal}>\n        <img src={largeURL} alt=\"imgLarge\" />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  largeURL: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n\n// dumb component =}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = (pageNumber = 1, inputSearch = 'cat') => {\n  const key = `&key=${process.env.REACT_APP_PIXABAY_API_KEY}`;\n  const settings = '?image_type=photo&orientation=horizontal';\n  const perPage = '&per_page=12';\n  const page = `&page=${pageNumber}`;\n  const search = `&q=${inputSearch}`;\n\n  return axios.get(settings + perPage + key + page + search);\n};\n\n// export const DEFAULT_QUERY = 'design';\n\n/*\nprocess.env.REACT_APP_PIXABAY_API_KEY\nto use what we`ve created in env file\n */\n","import React, { Component } from 'react';\nimport './App.css';\nimport Gallery from './components/Gallery/Gallery';\nimport SearchForm from './components/SearchForm/SearchForm';\nimport Modal from './components/Modal/Modal';\nimport * as API from './services/api';\n\nconst incrementPageNumber = 1;\n\nclass App extends Component {\n  state = {\n    imagesArr: [],\n    pageNumber: 1,\n    inputSearch: '',\n    isModalOpen: false,\n    largeImageURL: '',\n  };\n\n  componentDidMount() {\n    this.fetchingImg();\n    document.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.keyCode === 27) {\n      this.setState({\n        isModalOpen: false,\n      });\n    }\n  };\n\n  fetchingImg = () => {\n    const { pageNumber, inputSearch } = this.state;\n    API.fetchPhotos(pageNumber, inputSearch.toLowerCase())\n      .then(response =>\n        this.setState(\n          prevState => ({\n            imagesArr: [...prevState.imagesArr, ...response.data.hits],\n          }),\n          () =>\n            window.scrollTo({\n              top: document.body.scrollHeight,\n              behavior: 'smooth',\n            }),\n        ),\n      )\n      .catch(console.log);\n  };\n\n  fetchingNewImg = () => {\n    const { pageNumber, inputSearch } = this.state;\n    API.fetchPhotos(pageNumber, inputSearch.toLowerCase())\n      .then(\n        response =>\n          this.setState({\n            imagesArr: [...response.data.hits],\n          }),\n        () =>\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: 'smooth',\n          }),\n      )\n      .catch(console.log);\n  };\n\n  changePageNumber = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + incrementPageNumber,\n    }));\n    this.fetchingImg();\n    // start a function that re-renders amount of pages depending on the number we have\n  };\n\n  handleChangeInput = e => {\n    this.setState({ inputSearch: e.target.value });\n  };\n\n  onSubmitForm = e => {\n    e.preventDefault();\n    this.setState({ pageNumber: 1 });\n    this.fetchingNewImg();\n  };\n\n  openModalWindow = url => {\n    this.setState({\n      isModalOpen: true,\n      largeImageURL: url,\n    });\n  };\n\n  closeModalWindow = e => {\n    if (e.target.tagName === 'IMG') {\n      return;\n    }\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { imagesArr, inputSearch, isModalOpen, largeImageURL } = this.state;\n    // console.dir(document.documentElement.scrollHeight);\n    return (\n      <div className=\"app\">\n        <SearchForm\n          onSubmitForm={this.onSubmitForm}\n          onChangeInput={this.handleChangeInput}\n          inputSearch={inputSearch}\n        />\n        {/* <SearchForm /> */}\n        <Gallery\n          imagesArr={imagesArr}\n          onClickBtn={this.changePageNumber}\n          openModal={this.openModalWindow}\n        />\n        {isModalOpen && (\n          <Modal largeURL={largeImageURL} closeModal={this.closeModalWindow} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};"],"sourceRoot":""}