(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("L1EO"),n("vOC0"),n("D/wG"),n("JBxO"),n("FdtR");var o="https://api.apixu.com/v1/current.json?key=fbd0a2089b144587a6675044190708";function r(t){return fetch(o+"&q="+t).then(function(t){if(t.status>=200&&t.status<300)return t.json();var e=new Error(t.statusText);throw e.response=t,e}).catch(function(t){return t})}var c=n("dIfx");c.a.defaults.delay=1500;var i,u,a;(a={maximumAge:18e5},new Promise(function(t,e){navigator.geolocation.getCurrentPosition(t,e,a)})).then(function(t){i=t.coords.latitude,u=t.coords.longitude,r(i+","+u).then(function(t){document.querySelector(".icon").src=t.current.condition.icon,document.querySelector('[data-field="location"]').textContent=t.location.name,document.querySelector('[data-field="temp"]').textContent=t.current.feelslike_c+"°C",document.querySelector('[data-field="humidity"]').textContent=t.current.humidity+"%",document.querySelector('[data-field="wind"]').textContent=t.current.wind_kph+"kph",document.querySelector('[data-field="conditions"]').textContent=t.current.condition.text})}).catch(function(t){c.a.error("Geolocation has failed. Please use manual search of your city")});var d=document.querySelector('[name="city"]');document.querySelector("#search-form").addEventListener("submit",function(t){t.preventDefault(),r(d.value).then(function(t){document.querySelector(".icon").src=t.current.condition.icon,document.querySelector('[data-field="location"]').textContent=t.location.name,document.querySelector('[data-field="temp"]').textContent=t.current.feelslike_c+"°C",document.querySelector('[data-field="humidity"]').textContent=t.current.humidity+"%",document.querySelector('[data-field="wind"]').textContent=t.current.wind_kph+"kph",document.querySelector('[data-field="conditions"]').textContent=t.current.condition.text}).catch(function(t){return c.a.error("Вы ввели крокозябрики!")})})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a27ca712a5348937a184.js.map